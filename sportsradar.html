<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SportsRadar</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header>
    <h1>SportsRadar</h1>
    <img src="images/logo.webp" alt="SportsRadar">
  </header>

  <div class="container">
    <h2>Featured Articles</h2>
    <p>See below for the latest sports news and articles!</p>

    <div class="article-area">
      <h2>NBA News</h2>
      <div id="nba-feed"></div>
      <h2>NFL News</h2>
      <div id="nfl-feed"></div>
      <h2>MLB News</h2>
      <div id="mlb-feed"></div>
    </div>

    <!-- CONTACT BUTTON -->
    <div style="text-align: center; margin-top: 30px;">
      <a href="contact.html">
        <button>Contact Us</button>
      </a>
    </div>

  </div>

  <script>
    function loadRSS(feedUrl, elementId, sportIcon) {
      fetch(feedUrl)
        .then(response => response.text())
        .then(str => new window.DOMParser().parseFromString(str, "text/xml"))
        .then(data => {
          let items = data.querySelectorAll("item");
          let output = "";
          items.forEach((el, index) => {
            if (index < 5) {
              let title = el.querySelector("title").textContent;
              let link = el.querySelector("link").textContent;
              let description = el.querySelector("description") ? el.querySelector("description").textContent : "";

              output += `
                <div class="article-card">
                  <img src="${sportIcon}" alt="Sport Icon">
                  <div class="article-content">
                    <h3><a href="${link}" target="_blank">${title}</a></h3>
                    <p>${description}</p>
                  </div>
                </div>
              `;
            }
          });
          document.getElementById(elementId).innerHTML = output;
        });
    }

    const basketballIcon = "https://upload.wikimedia.org/wikipedia/commons/7/7a/Basketball.png";
    const footballIcon = "https://m.media-amazon.com/images/I/61ceQO+CuVL._AC_UF1000,1000_QL80_.jpg";
    const baseballIcon = "https://upload.wikimedia.org/wikipedia/en/thumb/1/1e/Baseball_%28crop%29.jpg/800px-Baseball_%28crop%29.jpg";

    loadRSS("https://www.espn.com/espn/rss/nba/news", "nba-feed", basketballIcon);
    loadRSS("https://www.espn.com/espn/rss/nfl/news", "nfl-feed", footballIcon);
    loadRSS("https://www.espn.com/espn/rss/mlb/news", "mlb-feed", baseballIcon);
  </script>
</body>
</html>
